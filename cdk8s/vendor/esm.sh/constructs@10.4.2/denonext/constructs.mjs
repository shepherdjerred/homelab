/* esm.sh - constructs@10.4.2 */
import*as __0$ from"node:crypto";var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({__esModule:true},m);switch(n){case"node:crypto":return e(__0$);default:console.error('module "'+n+'" not found');return null;}};
var F=Object.create;var b=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,Y=Object.prototype.hasOwnProperty;var J=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var d=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var U=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of B(e))!Y.call(r,s)&&s!==t&&b(r,s,{get:()=>e[s],enumerable:!(n=G(e,s))||n.enumerable});return r};var X=(r,e,t)=>(t=r!=null?F(H(r)):{},U(e||!r||!r.__esModule?b(t,"default",{value:r,enumerable:!0}):t,r));var E=d(u=>{"use strict";var R,D;Object.defineProperty(u,"__esModule",{value:!0});u.Dependable=u.DependencyGroup=void 0;var g=Symbol.for("jsii.rtti"),f=class{constructor(...e){this._deps=new Array;let t=this;a.implement(this,{get dependencyRoots(){let n=new Array;for(let s of t._deps)n.push(...a.of(s).dependencyRoots);return n}}),this.add(...e)}add(...e){this._deps.push(...e)}};u.DependencyGroup=f;R=g;f[R]={fqn:"constructs.DependencyGroup",version:"10.4.2"};var O=Symbol.for("@aws-cdk/core.DependableTrait"),a=class{static implement(e,t){e[O]=t}static of(e){let t=e[O];if(!t)throw new Error(`${e} does not implement IDependable. Use "Dependable.implement()" to implement`);return t}static get(e){return this.of(e)}};u.Dependable=a;D=g;a[D]={fqn:"constructs.Dependable",version:"10.4.2"}});var T=d(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});p.captureStackTrace=void 0;function S(r){r=r||S;let e={stack:""},t=Error.stackTraceLimit;try{Error.stackTraceLimit=Number.MAX_SAFE_INTEGER,Error.captureStackTrace(e,r)}finally{Error.stackTraceLimit=t}return e.stack?e.stack.split(`
`).slice(1).map(n=>n.replace(/^\s*at\s+/,"")):[]}p.captureStackTrace=S});var P=d(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.addressOf=void 0;var z=J("node:crypto"),V="Default";function K(r){let e=z.createHash("sha1");for(let t of r)t!==V&&(e.update(t),e.update(`
`));return"c8"+e.digest("hex")}_.addressOf=K});var I=d(i=>{"use strict";var A,M,q;Object.defineProperty(i,"__esModule",{value:!0});i.RootConstruct=i.ConstructOrder=i.Construct=i.Node=void 0;var C=Symbol.for("jsii.rtti"),x=E(),Q=T(),W=P(),k=Symbol.for("constructs.Construct"),c=class r{static of(e){return e.node}constructor(e,t,n){if(this.host=e,this._locked=!1,this._children={},this._context={},this._metadata=new Array,this._dependencies=new Set,this._validations=new Array,n=n??"",this.id=j(n),this.scope=t,t&&!this.id)throw new Error("Only root constructs may have an empty ID");t?.node.addChild(e,this.id)}get path(){let e=[];for(let t of this.scopes)t.node.id&&e.push(t.node.id);return e.join(r.PATH_SEP)}get addr(){return this._addr||(this._addr=(0,W.addressOf)(this.scopes.map(e=>e.node.id))),this._addr}tryFindChild(e){return this._children[j(e)]}findChild(e){let t=this.tryFindChild(e);if(!t)throw new Error(`No child with id: '${e}'`);return t}get defaultChild(){if(this._defaultChild!==void 0)return this._defaultChild;let e=this.tryFindChild("Resource"),t=this.tryFindChild("Default");if(e&&t)throw new Error(`Cannot determine default child for ${this.path}. There is both a child with id "Resource" and id "Default"`);return t||e}set defaultChild(e){this._defaultChild=e}get children(){return Object.values(this._children)}findAll(e=l.PREORDER){let t=new Array;return n(this.host),t;function n(s){e===l.PREORDER&&t.push(s);for(let v of s.node.children)n(v);e===l.POSTORDER&&t.push(s)}}setContext(e,t){if(this.children.length>0){let n=this.children.map(s=>s.node.id);throw new Error("Cannot set context after children have been added: "+n.join(","))}this._context[e]=t}getContext(e){let t=this._context[e];if(t!==void 0)return t;if(t===void 0&&!this.scope?.node)throw new Error(`No context value present for ${e} key`);return this.scope&&this.scope.node.getContext(e)}getAllContext(e){return this.scopes.reverse().reduce((t,n)=>({...n.node._context,...t}),{...e})}tryGetContext(e){let t=this._context[e];return t!==void 0?t:this.scope&&this.scope.node.tryGetContext(e)}get metadata(){return[...this._metadata]}addMetadata(e,t,n={}){if(t==null)return;let v=n.stackTrace??!1?(0,Q.captureStackTrace)(n.traceFromFunction??this.addMetadata):void 0;this._metadata.push({type:e,data:t,trace:v})}get scopes(){let e=new Array,t=this.host;for(;t;)e.unshift(t),t=t.node.scope;return e}get root(){return this.scopes[0]}get locked(){return!!(this._locked||this.scope&&this.scope.node.locked)}addDependency(...e){for(let t of e)this._dependencies.add(t)}get dependencies(){let e=new Array;for(let t of this._dependencies)for(let n of x.Dependable.of(t).dependencyRoots)e.push(n);return e}tryRemoveChild(e){return e in this._children?(delete this._children[e],!0):!1}addValidation(e){this._validations.push(e)}validate(){return this._validations.flatMap(e=>e.validate())}lock(){this._locked=!0}addChild(e,t){if(this.locked)throw this.path?new Error(`Cannot add children to "${this.path}" during synthesis`):new Error("Cannot add children during synthesis");if(this._children[t]){let n=this.id??"",s=this.host.constructor.name;throw new Error(`There is already a Construct with name '${t}' in ${s}${n.length>0?" ["+n+"]":""}`)}this._children[t]=e}};i.Node=c;A=C;c[A]={fqn:"constructs.Node",version:"10.4.2"};c.PATH_SEP="/";var h=class{static isConstruct(e){return e&&typeof e=="object"&&e[k]}constructor(e,t){this.node=new c(this,e,t),x.Dependable.implement(this,{dependencyRoots:[this]})}toString(){return this.node.path||"<root>"}};i.Construct=h;M=C;h[M]={fqn:"constructs.Construct",version:"10.4.2"};var l;(function(r){r[r.PREORDER=0]="PREORDER",r[r.POSTORDER=1]="POSTORDER"})(l||(i.ConstructOrder=l={}));var Z=new RegExp(`${c.PATH_SEP}`,"g");function j(r){return r.replace(Z,"--")}Object.defineProperty(h.prototype,k,{value:!0,enumerable:!1,writable:!1});var y=class extends h{constructor(e){super(void 0,e??"")}};i.RootConstruct=y;q=C;y[q]={fqn:"constructs.RootConstruct",version:"10.4.2"}});var L=d($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0})});var N=d(o=>{"use strict";var ee=o&&o.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),w=o&&o.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ee(e,r,t)};Object.defineProperty(o,"__esModule",{value:!0});w(I(),o);w(L(),o);w(E(),o)});var m=X(N()),{__esModule:de,Dependable:ae,DependencyGroup:ue,RootConstruct:he,ConstructOrder:le,Construct:fe,Node:pe}=m,_e=m.default??m;export{fe as Construct,le as ConstructOrder,ae as Dependable,ue as DependencyGroup,pe as Node,he as RootConstruct,de as __esModule,_e as default};
//# sourceMappingURL=constructs.mjs.map