/* esm.sh - minimatch@3.1.2 */
import*as __0$ from"node:path";import*as __1$ from"/brace-expansion@^1.1.7?target=denonext";var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({__esModule:true},m);switch(n){case"node:path":return e(__0$);case"brace-expansion":return e(__1$);default:console.error('module "'+n+'" not found');return null;}};
var ne=Object.create;var V=Object.defineProperty;var ae=Object.getOwnPropertyDescriptor;var se=Object.getOwnPropertyNames;var ie=Object.getPrototypeOf,ue=Object.prototype.hasOwnProperty;var W=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,a)=>(typeof require<"u"?require:t)[a]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ce=(e,t,a,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of se(t))!ue.call(e,n)&&n!==a&&V(e,n,{get:()=>t[n],enumerable:!(r=ae(t,n))||r.enumerable});return e};var he=(e,t,a)=>(a=e!=null?ne(ie(e)):{},ce(t||!e||!e.__esModule?V(a,"default",{value:e,enumerable:!0}):a,e));var K=oe((we,J)=>{J.exports=v;v.Minimatch=h;var j=function(){try{return W("node:path")}catch{}}()||{sep:"/"};v.sep=j.sep;var B=v.GLOBSTAR=h.GLOBSTAR={},fe=W("brace-expansion"),X={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},L="[^/]",_=L+"*?",ge="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",le="(?:(?!(?:\\/|^)\\.).)*?",z=ve("().*{}+?[]^$\\!");function ve(e){return e.split("").reduce(function(t,a){return t[a]=!0,t},{})}var F=/\/+/;v.filter=me;function me(e,t){return t=t||{},function(a,r,n){return v(a,e,t)}}function y(e,t){t=t||{};var a={};return Object.keys(e).forEach(function(r){a[r]=e[r]}),Object.keys(t).forEach(function(r){a[r]=t[r]}),a}v.defaults=function(e){if(!e||typeof e!="object"||!Object.keys(e).length)return v;var t=v,a=function(n,s,i){return t(n,s,y(e,i))};return a.Minimatch=function(n,s){return new t.Minimatch(n,y(e,s))},a.Minimatch.defaults=function(n){return t.defaults(y(e,n)).Minimatch},a.filter=function(n,s){return t.filter(n,y(e,s))},a.defaults=function(n){return t.defaults(y(e,n))},a.makeRe=function(n,s){return t.makeRe(n,y(e,s))},a.braceExpand=function(n,s){return t.braceExpand(n,y(e,s))},a.match=function(r,n,s){return t.match(r,n,y(e,s))},a};h.defaults=function(e){return v.defaults(e).Minimatch};function v(e,t,a){return T(t),a||(a={}),!a.nocomment&&t.charAt(0)==="#"?!1:new h(t,a).match(e)}function h(e,t){if(!(this instanceof h))return new h(e,t);T(e),t||(t={}),e=e.trim(),!t.allowWindowsEscape&&j.sep!=="/"&&(e=e.split(j.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}h.prototype.debug=function(){};h.prototype.make=de;function de(){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var a=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,a),a=this.globParts=a.map(function(r){return r.split(F)}),this.debug(this.pattern,a),a=a.map(function(r,n,s){return r.map(this.parse,this)},this),this.debug(this.pattern,a),a=a.filter(function(r){return r.indexOf(!1)===-1}),this.debug(this.pattern,a),this.set=a}h.prototype.parseNegate=pe;function pe(){var e=this.pattern,t=!1,a=this.options,r=0;if(!a.nonegate){for(var n=0,s=e.length;n<s&&e.charAt(n)==="!";n++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}}v.braceExpand=function(e,t){return I(e,t)};h.prototype.braceExpand=I;function I(e,t){return t||(this instanceof h?t=this.options:t={}),e=typeof e>"u"?this.pattern:e,T(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:fe(e)}var be=1024*64,T=function(e){if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>be)throw new TypeError("pattern is too long")};h.prototype.parse=ye;var O={};function ye(e,t){T(e);var a=this.options;if(e==="**")if(a.noglobstar)e="*";else return B;if(e==="")return"";var r="",n=!!a.nocase,s=!1,i=[],m=[],u,o=!1,g=-1,d=-1,x=e.charAt(0)==="."?"":a.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function b(){if(u){switch(u){case"*":r+=_,n=!0;break;case"?":r+=L,n=!0;break;default:r+="\\"+u;break}p.debug("clearStateChar %j %j",u,r),u=!1}}for(var l=0,Q=e.length,c;l<Q&&(c=e.charAt(l));l++){if(this.debug("%s	%s %s %j",e,l,r,c),s&&z[c]){r+="\\"+c,s=!1;continue}switch(c){case"/":return!1;case"\\":b(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,l,r,c),o){this.debug("  in class"),c==="!"&&l===d+1&&(c="^"),r+=c;continue}p.debug("call clearStateChar %j",u),b(),u=c,a.noext&&b();continue;case"(":if(o){r+="(";continue}if(!u){r+="\\(";continue}i.push({type:u,start:l-1,reStart:r.length,open:X[u].open,close:X[u].close}),r+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,r),u=!1;continue;case")":if(o||!i.length){r+="\\)";continue}b(),n=!0;var f=i.pop();r+=f.close,f.type==="!"&&m.push(f),f.reEnd=r.length;continue;case"|":if(o||!i.length||s){r+="\\|",s=!1;continue}b(),r+="|";continue;case"[":if(b(),o){r+="\\"+c;continue}o=!0,d=l,g=r.length,r+=c;continue;case"]":if(l===d+1||!o){r+="\\"+c,s=!1;continue}var R=e.substring(d+1,l);try{RegExp("["+R+"]")}catch{var S=this.parse(R,O);r=r.substr(0,g)+"\\["+S[0]+"\\]",n=n||S[1],o=!1;continue}n=!0,o=!1,r+=c;continue;default:b(),s?s=!1:z[c]&&!(c==="^"&&o)&&(r+="\\"),r+=c}}for(o&&(R=e.substr(d+1),S=this.parse(R,O),r=r.substr(0,g)+"\\["+S[0],n=n||S[1]),f=i.pop();f;f=i.pop()){var k=r.slice(f.reStart+f.open.length);this.debug("setting tail",r,f),k=k.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(U,H,C){return C||(C="\\"),H+H+C+"|"}),this.debug(`tail=%j
   %s`,k,k,f,r);var Y=f.type==="*"?_:f.type==="?"?L:"\\"+f.type;n=!0,r=r.slice(0,f.reStart)+Y+"\\("+k}b(),s&&(r+="\\\\");var G=!1;switch(r.charAt(0)){case"[":case".":case"(":G=!0}for(var A=m.length-1;A>-1;A--){var E=m[A],P=r.slice(0,E.reStart),Z=r.slice(E.reStart,E.reEnd-8),q=r.slice(E.reEnd-8,E.reEnd),w=r.slice(E.reEnd);q+=w;var ee=P.split("(").length-1,N=w;for(l=0;l<ee;l++)N=N.replace(/\)[+*?]?/,"");w=N;var D="";w===""&&t!==O&&(D="$");var te=P+Z+w+D+q;r=te}if(r!==""&&n&&(r="(?=.)"+r),G&&(r=x+r),t===O)return[r,n];if(!n)return Ee(e);var re=a.nocase?"i":"";try{var $=new RegExp("^"+r+"$",re)}catch{return new RegExp("$.")}return $._glob=e,$._src=r,$}v.makeRe=function(e,t){return new h(e,t||{}).makeRe()};h.prototype.makeRe=xe;function xe(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,a=t.noglobstar?_:t.dot?ge:le,r=t.nocase?"i":"",n=e.map(function(s){return s.map(function(i){return i===B?a:typeof i=="string"?Se(i):i._src}).join("\\/")}).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,r)}catch{this.regexp=!1}return this.regexp}v.match=function(e,t,a){a=a||{};var r=new h(t,a);return e=e.filter(function(n){return r.match(n)}),r.options.nonull&&!e.length&&e.push(t),e};h.prototype.match=function(t,a){if(typeof a>"u"&&(a=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&a)return!0;var r=this.options;j.sep!=="/"&&(t=t.split(j.sep).join("/")),t=t.split(F),this.debug(this.pattern,"split",t);var n=this.set;this.debug(this.pattern,"set",n);var s,i;for(i=t.length-1;i>=0&&(s=t[i],!s);i--);for(i=0;i<n.length;i++){var m=n[i],u=t;r.matchBase&&m.length===1&&(u=[s]);var o=this.matchOne(u,m,a);if(o)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate};h.prototype.matchOne=function(e,t,a){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var n=0,s=0,i=e.length,m=t.length;n<i&&s<m;n++,s++){this.debug("matchOne loop");var u=t[s],o=e[n];if(this.debug(t,u,o),u===!1)return!1;if(u===B){this.debug("GLOBSTAR",[t,u,o]);var g=n,d=s+1;if(d===m){for(this.debug("** at the end");n<i;n++)if(e[n]==="."||e[n]===".."||!r.dot&&e[n].charAt(0)===".")return!1;return!0}for(;g<i;){var x=e[g];if(this.debug(`
globstar while`,e,g,t,d,x),this.matchOne(e.slice(g),t.slice(d),a))return this.debug("globstar found match!",g,i,x),!0;if(x==="."||x===".."||!r.dot&&x.charAt(0)==="."){this.debug("dot detected!",e,g,t,d);break}this.debug("globstar swallow a segment, and continue"),g++}return!!(a&&(this.debug(`
>>> no match, partial?`,e,g,t,d),g===i))}var p;if(typeof u=="string"?(p=o===u,this.debug("string match",u,o,p)):(p=o.match(u),this.debug("pattern match",u,o,p)),!p)return!1}if(n===i&&s===m)return!0;if(n===i)return a;if(s===m)return n===i-1&&e[n]==="";throw new Error("wtf?")};function Ee(e){return e.replace(/\\(.)/g,"$1")}function Se(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var M=he(K()),{braceExpand:je,makeRe:Re,match:Oe}=M,Te=M.default??M;export{je as braceExpand,Te as default,Re as makeRe,Oe as match};
//# sourceMappingURL=minimatch.mjs.map